var TeamModel=Backbone.Model.extend({}),TeamCollection=Backbone.Collection.extend({model:TeamModel,url:"http://api.espn.com/v1/sports/basketball/nba/teams?enable=roster&apikey=swz92eu339qnv7tsd8ypqpxq",parse:function(a){return a.sports[0].leagues[0].teams},initialize:function(){this.on("add",function(a){new TeamView({model:a})})}}),HeadlineModel=Backbone.Model.extend({}),HeadlineCollection=Backbone.Collection.extend({model:HeadlineModel,parse:function(a){return a.headlines},initialize:function(){this.on("add",function(a){new HeadlineView({model:a})})}}),TeamView=Backbone.View.extend({className:"hat-item-js",teamTemplate:_.template($("#team-template").text()),initialize:function(){$(".team-list").append(this.el),this.render()},render:function(){var a=this.teamTemplate(this.model.attributes);this.$el.html(a)}}),HeadlineView=Backbone.View.extend({className:"headlines",featuredTemplate:_.template($("#headline-template").text()),initialize:function(){console.log("featuer view model is: ",this.model),$(".featured-list").append(this.el),this.render()},render:function(){var a=this.featuredTemplate(this.model.attributes);this.$el.html(a)}}),MainRouter=Backbone.Router.extend({routes:{teams:"showTeams","teams/:id":"featuredTeam"},initialize:function(){this.items=new TeamCollection,this.headlines=new HeadlineCollection},showTeams:function(){this.items.fetch()},featuredTeam:function(a){console.log("hi"),this.headlines.url="http://api.espn.com/v1/sports/basketball/nba/teams/"+a+"/news?&apikey=swz92eu339qnv7tsd8ypqpxq",this.headlines.fetch(),$(".featured-list").html(""),console.log("id is: ",a)}});$(document).ready(function(){router=new MainRouter,Backbone.history.start()});